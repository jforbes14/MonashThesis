---
chapter: 3
knit: "bookdown::render_book"
---

# Data {#ch:Data}
The two main data sources used in this research are the Australian Census of Population and Housing from the Australian Bureau of Statistics (ABS), and published election results from the Australian Electoral Commission (AEC).

The Census of Population and Housing collects data on the key characteristics of every Australian and is conducted every five years. There have been four censuses in the 21st century, being that in 2001, 2006, 2011 and 2016. All of these are used in this study to provide socio-demographic information at electorate level. Federal elections typically occur every three years, and occured in years 2001, 2004, 2007, 2010, 2013 and 2016. All information from these sources is publically available.

## Commonwealth Electorate Boundaries
@AEC-Overview For the House of Representatives each State and Territory is divided into electoral divisions, totalling 150 electorates across Australia. To ensure equal representation, the boundaries of these divisions have to be redrawn or redistributed periodically, and are determined by population. Redistributions (changing of boundaries) typically only affect a handful of electorates, with most remaining the same as previously defined. Redistribution dates can be found in the appendix @AEC-DistDates.

@ABS-CED The Commonwealth Electoral Divisions (CED) are an ABS approimation of the AEC electoral division boundaries. CEDs may change as the AEC revises boundaries, and the CED update will occur in the month of July following the AEC changes.

The boundaries may be redistributed between elections, but this has no effect on the House of Representatives until the next election.

## Census
The Census is conducted by surveying all Australian households on a particular date, and the data is used for decision making in both public and private sectors. Each Census contains questions relating to various characteristics of its population, and responses that relate to the following have been selected for this study. 

- State

- Population

- Age

- Education

- Employment

- Religious and cultural identity

- Median incomes (personal, household, family)

- Median rent and loan payments

- Citizenship and birthplace

- Language at home

- Relationship status

All metrics (excluding state and population) are a percentage of total, for example $AusCitizen$ is the percentage of people in the electorate who are Australian citizens. A more detailed description of each variable is included in the results section.

The figure below shows violin plots for four variables across Census years, providing a snapshot of the 60 variables recorded for each year.

```{r vis_census}
ggplot(vis_proposal_vars, aes(x=year, y=value, fill=year)) + geom_violin() + facet_wrap(~measure, scales = "free_y", nrow = 1) + labs(x = "Census year", y = "% of electorate population")
```

#### Non-response in Census
Like in any survey, non-response bias is a source of potential problems. The ABS releases statements with each Census on its data quality, and for the years considered, this study assumes reliability of the published data. 

It is worthwhile noting that total item non-response increased in 2016, compared with 2011, for non-imputed items but remains reasonably close to levels achieved in 2006 @ABS-CQ16. The main contributor to item non-response is people who do not respond to the Census at all. Amongst those who responded, non-response rates have steady dropped since 2006. The ABS has imputed key variables (age, sex, martial status and usual residence) for non-response, although is not clear whether this has been done in 2001.

Non imputed items are treated as "not stated" or "not applicable", dependent on the imputed age of the person.

The assumption of reliability means that no adjustments or imputations will be explicitly made in this study to the values derived from each Census. However, the frequency of "not stated" responses will be recorded for particular questions, and will be included with other Census-derived metrics in the electorate profiles.


## Election results
The three types of vote counts published for each federal election are as follows:

- Division of preferences: distribution of preferences at each step of reallocation, beginning with first preferences.

- Two party preferred: distribution of preferences where, by convention, comparisons are made between the ALP and the leading Liberal/National candidates. In seats where the final two candidates are not from the ALP and the Liberal or National parties, a two party preferred count may be conducted to find the result of preference flows to the ALP and the Liberal/National candidates. Vote swing percentage is calculated for this metric.

- Two candidate preffered: distribution of preferences to the two candidates who came first and second in the election.


## Mapping Census Information to Electorates at Election Times
In order to map Census information to each election, there are two cases to consider: elections that fall on the same year as a Census, and those that do not.

```{r timeline_census_election}
timeline <- data.frame(year = c(2001:2016)) %>%
  mutate(election = ifelse(year %in% c(2001, 2004, 2007, 2010, 2013, 2016),1,0),
         census = ifelse(year %in% c(2001, 2006, 2011, 2016), 1.4, 0)) %>%
  gather(c(election,census), key = event, value = measure) %>%  filter(measure != 0) %>%
  mutate(year_vis = ifelse(event == "census", year + 0.1, year))


ggplot(timeline, aes(x=year_vis, y=measure)) + geom_point(aes(color=as.factor(event),shape=as.factor(event)),size = 4) + labs(color = "Event", shape = "Event") + geom_hline(yintercept=0, size =1, color = 'grey', show.legend = FALSE) + geom_segment(x=2001,xend=2001, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2004,xend=2004, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2007,xend=2007, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2010,xend=2010, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2013,xend=2013, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2016,xend=2016, y=1, yend=0, color = '#00BFC4') + geom_segment(x=2001.1,xend=2001.1, y=1.4, yend=0, color = '#F8766D') + geom_segment(x=2006.1,xend=2006.1, y=1.4, yend=0, color = '#F8766D') + geom_segment(x=2011.1,xend=2011.1, y=1.4, yend=0, color = '#F8766D') + geom_segment(x=2016.1,xend=2016.1, y=1.4, yend=0, color = '#F8766D') + labs(title = "Timeline: Censuses and Elections", x="Year") + theme(axis.text.y=element_blank(), axis.title.y=element_blank(), plot.background=element_blank(), axis.ticks.y = element_blank(), panel.background = element_blank()) + scale_x_discrete(limits = c(2001:2016))
```


#### Elections that fall on a Census year
When a Census is conducted in an election year the CEDs used by the ABS will match the AEC electoral divisions for that election, so the Census profiles can be directly mapped to the electorates at election time. This is done for 2001 and 2016.

#### Elections that do not fall on a Census year
If the election does not fall on the same year a Census is conducted, data from the two nearest Censuses will be used to compute estimated electorate profiles at election time. These will reflect both the changes demographics over time, and the differences in electorate boundaries between the election and both censuses.

This presents a significant challenge, and requires the use of spatial analytics and mapping tools to determine the composition of the electorate. For each election and Census the AEC and ABS release a shapefile (GIS map) of the electorate boundaries. Using tools predominantly from the $rgeos$ package, boundaries at election time can be overlayed with those at Census time to determine what the electorate boundary would have looked like, should it have been implemented for the Census. This is done for each Census in order to compute an estimated socio-demographic profile of this superimposed boundary. With estimated profiles from each Census, the profile at election time can be interpolated between the two Censuses, depending on when the election falls.

More details on the overlaying algorithm can be found in the Methods section.
